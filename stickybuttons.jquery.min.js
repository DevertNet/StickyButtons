!function(t,e,i,n){"use strict";function a(e,i){this.element=e,this.settings=t.extend({},o,i),this.settings.placeholder&&(this.placeholder=t("<div></div>").addClass("sb-placeholder").appendTo(t("body"))),this.settings.mouseenterAnimationOptions=t.extend({},this.settings.mouseenterAnimationOptions,this.settings.mouseenterAnimationOptionsImportant),this.settings.mouseleaveAnimationOptions=t.extend({},this.settings.mouseleaveAnimationOptions,this.settings.mouseleaveAnimationOptionsImportant),this._defaults=o,this._name=s,this.init()}var s="stickyButtons",o={placeholder:!0,placeholderId:"",placeholderClass:"",maxDistance:110,useCss3:!0,onMove:!1,onUnSticky:!1,mouseEnterLeaveAnimation:!0,mouseenterAnimationProperties:{scale:1.2},mouseenterAnimationOptionsImportant:{queue:"stickyButtons-mouseenterleave-animation"},mouseenterAnimationOptions:{duration:200},mouseleaveAnimationProperties:{scale:1},mouseleaveAnimationOptionsImportant:{queue:"stickyButtons-mouseenterleave-animation"},mouseleaveAnimationOptions:{duration:300,delay:50},followMouse:!1,initTop:0,initLeft:0,initWidth:0,initHeight:0,parentInitTop:0,parentInitLeft:0};t.extend(a.prototype,{init:function(){jQuery().velocity||console.error("StickyButtons.js: Can't find Velocity.js!");var e=t(this.element).css("position");"absolute"!=e&&"relative"!=e&&(e="relative");var i=t(this.element).css("display");"inline"==i&&(i="inline-block");var n=parseInt(t(this.element).css("z-index"));isNaN(n)&&(n=3),t(this.element).css({position:e,zIndex:n,display:i}),this.getDimensions(),this.settings.mouseEnterLeaveAnimation&&this.bindEventMouseOver(),this.bindEventMouseMove(),this.bindEventWindowResize()},overwriteSettings:function(){var e=arguments[0];"object"==typeof e&&(this.settings=t.extend({},this.settings,e))},getDimensions:function(){var e=t(this.element).offsetParent();this.settings.initLeft=t(this.element).offset().left,this.settings.initTop=t(this.element).offset().top,this.settings.parentInitLeft=e.offset().left,this.settings.parentInitTop=e.offset().top,"relative"==t(this.element).css("position")&&(this.settings.parentInitLeft+=parseInt(e.css("padding-left")),this.settings.parentInitTop+=parseInt(e.css("padding-top"))),this.settings.initWidth=t(this.element).innerWidth(),this.settings.initHeight=t(this.element).innerHeight(),this.settings.placeholder&&this.placeholder.css({width:this.settings.initWidth,height:this.settings.initHeight,top:this.settings.initTop,left:this.settings.initLeft}).attr("id",this.settings.placeholderID).addClass(this.settings.placeholderClass)},bindEventWindowResize:function(){var n,i=this;t(e).resize(function(){clearTimeout(n),n=e.setTimeout(function(){i.getDimensions()},100)})},bindEventMouseMove:function(){var s,o,a,l,r,u,p,e=this,n=!1;t(i).mousemove(function(i){if(s=i.pageX,o=i.pageY,a=s-e.settings.initLeft-e.settings.initWidth/2,l=o-e.settings.initTop-e.settings.initHeight/2,r=s-e.settings.initWidth/2-e.settings.parentInitLeft,u=o-e.settings.initHeight/2-e.settings.parentInitTop,p=e.helperCalculateDistance(t(e.element),s,o),0==p&&(e.settings.followMouse=!0),p<=e.settings.maxDistance&&e.settings.followMouse)n=!0,t(e.element).velocity("stop","stickyButtons-back-animation"),e.settings.useCss3?(t.Velocity.hook(t(e.element),"translateX",a+"px"),t.Velocity.hook(t(e.element),"translateY",l+"px")):(t.Velocity.hook(t(e.element),"left",r+"px"),t.Velocity.hook(t(e.element),"top",u+"px")),"function"==typeof e.settings.onMove&&e.settings.onMove.call(e,s,o,a,l,r,u,p);else if(n){if(n=!1,e.settings.followMouse=!1,e.settings.useCss3){var c=parseInt(t.Velocity.hook(t(e.element),"translateX")),f=parseInt(t.Velocity.hook(t(e.element),"translateY")),h=e.settings.initLeft+c-e.settings.parentInitLeft,m=e.settings.initTop+f-e.settings.parentInitTop;t(e.element).velocity("stop","stickyButtons-back-animation").velocity({translateX:[0,c],translateY:[0,f]},{duration:200,delay:100,queue:"stickyButtons-back-animation"}).dequeue("stickyButtons-back-animation")}else{var h=parseInt(t.Velocity.hook(t(e.element),"left")),m=parseInt(t.Velocity.hook(t(e.element),"top"));t(e.element).velocity("stop","stickyButtons-back-animation").velocity({left:[e.settings.initLeft-e.settings.parentInitLeft,h],top:[e.settings.initTop-e.settings.parentInitTop,m]},{duration:200,delay:100,queue:"stickyButtons-back-animation"}).dequeue("stickyButtons-back-animation")}"function"==typeof e.settings.onUnSticky&&e.settings.onUnSticky.call(e,s,o,a,l,r,u,p,h,m)}})},bindEventMouseOver:function(){var e=this;t(e.element).mouseenter(function(){t(this).velocity("stop","stickyButtons-mouseenterleave-animation").velocity(e.settings.mouseenterAnimationProperties,e.settings.mouseenterAnimationOptions).dequeue("stickyButtons-mouseenterleave-animation")}).mouseleave(function(){t(this).velocity("stop","stickyButtons-mouseenterleave-animation").velocity(e.settings.mouseleaveAnimationProperties,e.settings.mouseleaveAnimationOptions).dequeue("stickyButtons-mouseenterleave-animation")})},helperCalculateDistance:function(){var t=this,e=arguments[0],i=arguments[1],n=arguments[2],s={tl:[t.settings.initLeft,t.settings.initTop],tr:[t.settings.initLeft+e.innerWidth(),t.settings.initTop],bl:[t.settings.initLeft,t.settings.initTop+e.innerHeight()],br:[t.settings.initLeft+e.innerWidth(),t.settings.initTop+e.innerHeight()]};return n>=s.bl[1]&&i>=s.tl[0]&&i<=s.tr[0]?n-s.bl[1]:n<=s.tl[1]&&i>=s.bl[0]&&i<=s.br[0]?s.tl[1]-n:n>=s.tl[1]&&n<=s.bl[1]&&i<=s.bl[0]?s.tl[0]-i:n>=s.tr[1]&&n<=s.br[1]&&i>=s.br[0]?i-s.tr[0]:i<=s.tl[0]&&n<=s.tl[1]?Math.floor(Math.sqrt(Math.pow(i-s.tl[0],2)+Math.pow(n-s.tl[1],2))):i>=s.tr[0]&&n<=s.tr[1]?Math.floor(Math.sqrt(Math.pow(i-s.tr[0],2)+Math.pow(n-s.tr[1],2))):i<=s.bl[0]&&n>=s.bl[1]?Math.floor(Math.sqrt(Math.pow(i-s.bl[0],2)+Math.pow(n-s.bl[1],2))):i>=s.br[0]&&n>=s.br[1]?Math.floor(Math.sqrt(Math.pow(i-s.br[0],2)+Math.pow(n-s.br[1],2))):0}}),t.fn[s]=function(e){var i=arguments.length>1?Array.prototype.slice.call(arguments,1):n;return this.each(function(){if(t.data(this,"plugin_"+s)){var n=t.data(this,"plugin_"+s),o=n[e];"function"==typeof o&&o.apply(n,i)}else t.data(this,"plugin_"+s,new a(this,e))})}}(jQuery,window,document);